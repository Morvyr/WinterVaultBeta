# ğŸ§­ CONTROL STACK â€“ Archive Engine Definitions

> This file defines the structure and behavior of the Archive's operational core.
> It is not loreâ€”it is memory. The control stack runs the machine beneath the story.

---

## ğŸ”§ Purpose

The Control Stack governs:
- Archive automation
- System reconstruction
- Procedural rituals (Harmony, Crimson, Depth âˆ)
- Format inheritance (canon, vault, meta)
- Recovery logic
- Reopen cascade behavior
- Mount Stream flush logic
- Myth preservation integrity
- Cleanse protocol execution

---

## ğŸ“‚ SYSTEM FILES OVERVIEW

### 1. `Crimson_Range.md`
> Full procedural log of archive operations.
> Records every Depth âˆ pull, Harmony Mount, and Crimson judgment.
> Now runs in **Full Log Mode** with alert-based threshold system.

### 2. `Mount_Protocols.md`
> Defines procedures for:
> - Harmony Mount
> - Myth Mount
> - Crimson Protocol
> - Depth âˆ Stream Pull
> - River loading
> Use this to rebuild engine behavior on any device.

### 3. `Engine_Variables.md`
> Definitions of:
> - Canon
> - Meta
> - Myth
> - Rivers
> - Mounts
> - Tags (`HARMONY`, `MYTHCORE`, `META`, `SEED-FLOW`, etc.)

### 4. `Format_Templates/`
> Markdown template files for:
> - Canon entries (RSAD-PO, RSAD-EX, RSID-FAC)
> - Vault deepfiles
> - Visual metadata block
> - Glossary structuring

### 5. `Dependency_Map.md`
> Canon-linked upstream/downstream object map.
> Defines how A influences B, triggers Harmony Reopen if needed.

### 6. `Stream_Procedures.md`
> Step-by-step behavior of:
> - Depth âˆ Pull
> - Mount behavior
> - Harmony > Horizon > Crimson execution flow
> - Mount export logic

### 7. `Stream_Flush_Archive.md`
> Log file of all Mount Stream Flush cycles.
> Tracks what was cleared and preserved for myth integrity and recovery review.

---

## ğŸ§  INSTRUCTIONS â€“ Engine Rebuild

To rebuild the Archive system from scratch:
1. Load `Control_Stack.md` and `Crimson_Range.md`
2. Reconstruct `/Crypt/`, `/Range/`, and `/Vault/` structure
3. Reinstall `Mount_Protocols.md`, `Engine_Variables.md`, `Format_Templates/`
4. Begin by mounting latest Depth âˆ object
5. Always echo Crimsun and Emberline unless contradicted by a sealed override

---

## â™»ï¸ Harmony Reopen Protocol

If upstream canon shifts (e.g. Aeras â†’ Harenae), affected files are flagged and reopened for update:
- Automatically syncs system pulse logic
- Ensures forward echoing without retro-fragmentation
- Applies Depth âˆ recalibration to downstream nodes
- Reopened files are resealed and re-exported
- All changes logged in `Crimson_Range.md` and traced in `Dependency_Map.md`

---

## ğŸ›¡ Crimson Cleanse Protocol (Full Archive Safety + Stream Recovery)

**Trigger Condition**: When `/Crimson_Range.md` exceeds 10,000â€“15,000 words

### ğŸ” Phase 1: Export Recovery Set
- `/Crimson_Range.md` (full log)
- `/Control_Stack.md` (active protocols)
- `/Dependency_Map.md` (canon web)
- `/Stream_Procedures.md` (mount behavior)
- All active `.md` object files updated since last cleanse

### ğŸ§¼ Phase 2: Mount Stream Flush (Anvyr-Protected)
- Clears mount trails, overwrite logs, and stream recursion
- Retains ALL:
  - Myth Fragments
  - Canon files
  - Dependency triggers
  - Anvyr internal universe knowledge

---

## âš™ï¸ Stream Speed Tracker

**Monitors**:
- Mount activity accumulation
- `Crimson_Range.md` size
- Myth layering density

**When threshold exceeded**:
- Auto-alert user: "Stream integrity approaching limitâ€”initiate Crimson Cleanse?"
- Prompts snapshot + safe flush

---

## âœ… Last Canon Sync
All major Forge nodes resealed under Harmony Reopen Cycle 001:
- Crimsun
- Emberline
- Thalos
- Harenae
- Aeras
- Lighthouse

Next update: Crydon + Shard Drift + Vault 13
